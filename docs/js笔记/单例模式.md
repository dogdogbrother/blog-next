---
title: proxy实现单例模式
book: 设计模式
---

## 期待的单例

```js
import { CreateSingle } from './single.js'

const single1 = new CreateSingle()
const single2 = new CreateSingle()

console.log(single1 === single2) // 期待是true
```
如果`CreateSingle`是个普通的`class`类,那么`new`出来的对象都没关联.

## 不完善的单例1

```js
class CreateSingle {
  constructor() {
    console.log('我创建了个单例')
  }
}

const single = new CreateSingle()

export { single }
```

这样外面引入了几次的`single`,`constructor构造器`只会执行一次,但是有个问题是,我们把生成单例的时机提前了,瑕疵.

## 不完善的单例2


